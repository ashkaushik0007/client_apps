"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = require("@angular/core");
var GtRowClassPipe = (function () {
    function GtRowClassPipe() {
    }
    GtRowClassPipe.prototype.transform = function (array, gtFields) {
        if (array) {
            // find columns with rowClass property defined
            var COLUMNS_WITH_CLASS = gtFields
                .map(function (column) { return column; })
                .filter(function (column) { return column.rowClass; });
            COLUMNS_WITH_CLASS.map(function (column) {
                // for each column with rowClass property defined...
                array.map(function (row) {
                    // loop through rows and set row class
                    if (typeof column.rowClass === 'function') {
                        // if row class is a function, try using the function...
                        try {
                            if (row.$$gtRowClass) {
                                row.$$gtRowClass = row.$$gtRowClass.concat(' ' + column.rowClass(row, column));
                            }
                            else {
                                row.$$gtRowClass = column.rowClass(row, column);
                            }
                        }
                        catch (error) {
                            console.log('Error when trying to get row class name using formula.', error);
                        }
                    }
                    else {
                        // if not a function, return plain string value
                        if (row.$$gtRowClass) {
                            row.$$gtRowClass = row.$$gtRowClass.concat(' ' + column.rowClass);
                        }
                        else {
                            row.$$gtRowClass = column.rowClass;
                        }
                    }
                });
            });
        }
        return array;
    };
    return GtRowClassPipe;
}());
GtRowClassPipe.decorators = [
    { type: core_1.Pipe, args: [{
                name: 'gtRowClass'
            },] },
];
/** @nocollapse */
GtRowClassPipe.ctorParameters = function () { return []; };
exports.GtRowClassPipe = GtRowClassPipe;
//# sourceMappingURL=gt-row-class.pipe.js.map